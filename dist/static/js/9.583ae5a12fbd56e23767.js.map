{"version":3,"sources":["webpack:///src/views/setting/organmanagement.vue","webpack:///./src/views/setting/organmanagement.vue?3442","webpack:///./src/views/setting/organmanagement.vue"],"names":["organmanagement","getAllDatas","row","id","_this","this","$confirm","type","dangerouslyUseHTMLString","then","catch","_this2","addSubmit","editSubmit","_this3","organForm","_this4","orgid","para","_this5","obj","setting_organmanagement","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","size","on","click","handleAdd","staticStyle","width","border","data","organizeData","highlight-current-row","label","align","prop","scopedSlots","_u","key","fn","scope","$event","handleEdit","handleDelete","directives","name","rawName","title","dtitle","visible","dataFormVisible","update:visible","ref","model","label-width","rules","required","message","trigger","auto-complete","value","callback","$$v","$set","expression","autosize","minRows","slot","submitForm","_s","savaWord","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.583ae5a12fbd56e23767.js","sourcesContent":["<template>\r\n  <div class=\"mainbox\">\r\n    <p class=\"navtitle\"><span>组织机构</span></p>\r\n    <div class=\"toolbar\">\r\n      <el-button type=\"primary\" size=\"small\" @click=\"handleAdd\">新增</el-button>\r\n    </div>\r\n    <div class=\"listcontent\">\r\n      <!--列表-->\r\n      <el-table border size=\"small\" :data=\"organizeData\" highlight-current-row style=\"width: 100%;\">\r\n        <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"100\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"机构名称\"></el-table-column>\r\n        <el-table-column prop=\"remark\" label=\"备注\" width></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template scope=\"scope\">\r\n            <el-button size=\"small\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n            <el-button size=\"small\" @click=\"handleDelete(scope.row, scope.row.id)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 新增/编辑弹窗 -->\r\n    <el-dialog :title=\"dtitle\" :visible.sync=\"dataFormVisible\" width=\"500px\" v-dialogDrag>\r\n      <el-form size=\"small\" :model=\"organForm\" label-width=\"100px\" ref=\"organForm\">\r\n        <el-form-item\r\n          label=\"机构名称：\"\r\n          prop=\"name\"\r\n          :rules=\"[{ required: true, message: '请输入机构名称', trigger: 'change' }]\"\r\n        >\r\n          <el-input v-model=\"organForm.name\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注：\" prop=\"remark\">\r\n          <el-input type=\"textarea\" :autosize=\"{ minRows: 5}\" v-model=\"organForm.remark\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"small\" @click=\"dataFormVisible=false\">取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"submitForm('organForm')\">{{savaWord}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  allOrglist,\r\n  addOrgan,\r\n  editOrgan,\r\n  deleteOrgan\r\n} from \"../../api/settingApi\";\r\nexport default {\r\n  name: \"organ\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      organizeData: [],\r\n      // 弹窗标题\r\n      dtitle: \"\",\r\n      // 弹窗是否显示\r\n      dataFormVisible: false,\r\n      // 表单\r\n      organForm: {},\r\n      // 保存、确定\r\n      savaWord: \"\",\r\n      isType: \"\",\r\n      // 当前组织id\r\n      orgid: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.getAllDatas();\r\n  },\r\n  methods: {\r\n    // 新增\r\n    handleAdd() {\r\n      this.savaWord = \"新增\";\r\n      this.dtitle = \"新增组织机构\";\r\n      this.dataFormVisible = true;\r\n      this.organForm = {};\r\n      this.isType = \"add\";\r\n    },\r\n    // 编辑\r\n    handleEdit(row) {\r\n      this.savaWord = \"保存\";\r\n      this.dtitle = \"编辑组织机构\";\r\n      this.dataFormVisible = true;\r\n      this.organForm = Object.assign({}, row);\r\n      this.isType = \"edit\";\r\n      this.orgid = row.id;\r\n    },\r\n    // 删除\r\n    handleDelete(row, id) {\r\n      this.$confirm(\r\n        '<span style=\"color:#f00;\">该操作将删除此条组织机构</span>，确定删除吗?',\r\n        \"提示\",\r\n        { type: \"warning\", dangerouslyUseHTMLString: true }\r\n      )\r\n        .then(() => {\r\n          let para = { id: id };\r\n          deleteOrgan(para, data => {\r\n            if (data.data.code == 0) {\r\n              this.$message({\r\n                message: \"删除成功\",\r\n                type: \"success\"\r\n              });\r\n              this.getAllDatas();\r\n            } else {\r\n              this.$message({\r\n                message: \"删除失败\",\r\n                type: \"error\"\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            message: \"取消删除\",\r\n            type: \"info\"\r\n          });\r\n        });\r\n    },\r\n    // 表单保存\r\n    submitForm() {\r\n      this.$refs.organForm.validate(valid => {\r\n        if (valid) {\r\n          if (this.isType == \"add\") {\r\n            this.addSubmit();\r\n          } else {\r\n            this.editSubmit();\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 新增提交\r\n    addSubmit() {\r\n      let para = Object.assign({}, this.organForm);\r\n      addOrgan(para, data => {\r\n        this.dataFormVisible = false;\r\n        this.$message({\r\n          message: \"新增成功\",\r\n          type: \"success\"\r\n        });\r\n        this.getAllDatas();\r\n      });\r\n    },\r\n    // 编辑提交\r\n    editSubmit() {\r\n      let para = Object.assign({}, this.organForm);\r\n      para.id = this.orgid;\r\n      let { createtime, updatetime, ...others } = para;\r\n      para = others;\r\n      editOrgan(para, data => {\r\n        this.dataFormVisible = false;\r\n        this.$message({\r\n          message: \"编辑成功\",\r\n          type: \"success\"\r\n        });\r\n        this.getAllDatas();\r\n      });\r\n    },\r\n    // 获取数据列表\r\n    getAllDatas() {\r\n      allOrglist(\"\", data => {\r\n        this.organizeData = data.data.obj;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/setting/organmanagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainbox\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"toolbar\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"listcontent\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"size\":\"small\",\"data\":_vm.organizeData,\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"机构名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleDelete(scope.row, scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],attrs:{\"title\":_vm.dtitle,\"visible\":_vm.dataFormVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dataFormVisible=$event}}},[_c('el-form',{ref:\"organForm\",attrs:{\"size\":\"small\",\"model\":_vm.organForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"机构名称：\",\"prop\":\"name\",\"rules\":[{ required: true, message: '请输入机构名称', trigger: 'change' }]}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.organForm.name),callback:function ($$v) {_vm.$set(_vm.organForm, \"name\", $$v)},expression:\"organForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注：\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 5}},model:{value:(_vm.organForm.remark),callback:function ($$v) {_vm.$set(_vm.organForm, \"remark\", $$v)},expression:\"organForm.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dataFormVisible=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('organForm')}}},[_vm._v(_vm._s(_vm.savaWord))])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"navtitle\"},[_c('span',[_vm._v(\"组织机构\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-512e5be0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/setting/organmanagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-512e5be0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./organmanagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organmanagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organmanagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-512e5be0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./organmanagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/setting/organmanagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}